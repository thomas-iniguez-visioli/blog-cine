var t=function(t,e){"use strict";$.ajax({url:t,dataType:"json",success:function(t){console.log(t);var r=t.filter((t=>!0)).map((function(t){return{title:t.title,content:t.content||"",url:t.url}})),n=document.getElementById(e);if(n){var l=document.getElementById("local-search-result");$("#local-search-input").length>0&&n.addEventListener("input",(function(){var t='<ul class="search-result-list">',e=this.value.trim().toLowerCase().split(/[\s\-]+/);l.innerHTML="",this.value.trim().length<=0||(r.forEach((function(r){var n=!0;r.title&&""!==r.title.trim()||(r.title="Untitled");var l=r.title.trim().toLowerCase(),a=r.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),i=r.url,s=-1,c=-1,o=-1;if(""!==a?e.forEach((function(t,e){s=l.indexOf(t),c=a.indexOf(t),s<0&&c<0?n=!1:(c<0&&(c=0),0==e&&(o=c))})):n=!1,n){t+="<li><a href='"+i+"' class='search-result-title'>"+l+"</a>";var u=r.content.trim().replace(/<[^>]+>/g,"");if(o>=0){var f=o-20,h=o+80;f<0&&(f=0),0==f&&(h=100),h>u.length&&(h=u.length);var m=u.substring(f,h);e.forEach((function(t){var e=new RegExp(t,"gi");m=m.replace(e,'<em class="search-keyword">'+t+"</em>")})),t+='<p class="search-result">'+m+"...</p>"}t+="</li>"}})),t+="</ul>",l.innerHTML=t)}))}}})};