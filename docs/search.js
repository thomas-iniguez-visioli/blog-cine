var e=function(e,t){$.ajax({url:e,dataType:"json",success:function(e){console.log(e);var r=e.filter((e=>!0)).map((function(e){return{title:e.title,content:e.content||"",url:e.url}})),n=document.getElementById(t);if(n){var l=document.getElementById("local-search-result");$("#local-search-input").length>0&&n.addEventListener("input",(function(){var e='<ul class="search-result-list">',t=this.value.trim().toLowerCase().split(/[\s\-]+/);l.innerHTML="",this.value.trim().length<=0||(r.forEach((function(r){var n=!0;r.title&&""!==r.title.trim()||(r.title="Untitled");var l=r.title.trim().toLowerCase(),a=r.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),i=r.url,c=-1,s=-1,o=-1;if(""!==a?t.forEach((function(e,t){c=l.indexOf(e),s=a.indexOf(e),c<0&&s<0?n=!1:(s<0&&(s=0),0==t&&(o=s))})):n=!1,n){e+="<li><a href='"+i+"' class='search-result-title'>"+l+"</a>";var u=r.content.trim().replace(/<[^>]+>/g,"");if(o>=0){var f=o-20,h=o+80;f<0&&(f=0),0==f&&(h=100),h>u.length&&(h=u.length);var m=u.substring(f,h);t.forEach((function(e){var t=new RegExp(e,"gi");m=m.replace(t,'<em class="search-keyword">'+e+"</em>")})),e+='<p class="search-result">'+m+"...</p>"}e+="</li>"}})),e+="</ul>",l.innerHTML=e)}))}}})};